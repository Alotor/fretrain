(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function s(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(e){if(e.ep)return;e.ep=!0;const r=s(e);fetch(e.href,r)}})();let c;function N(){c={visible:new Set,currentNote:S(!1),currentString:1,pending:new Set([1,2,3,4,5,6])}}function f(t,n){const s=6-n+1,i=t-1;return`${s},${i}`}function S(t=!1){const n=t?["A","A#","Bb","B","C","C#","Db","D","D#","Eb","E","F","F#","Gb","G","G#","Ab"]:["A","B","C","D","E","F","G"];return n[Math.floor(n.length*Math.random())]}function m(){if(c.pending.size>0){const t=[...c.pending],n=Math.floor(Math.random()*t.length),s=t[n];c.pending.delete(s),c.currentString=s}}const g={A:"#e88d49",B:"#918f8f",C:"#9abc56",D:"#7558a1",E:"#5b7dc0",F:"#e05659",G:"#2d467b","A#":"#e88d49","C#":"#9abc56","D#":"#7558a1","F#":"#e05659","G#":"#2d467b",Ab:"#e88d49",Bb:"#918f8f",Db:"#7558a1",Eb:"#5b7dc0",Gb:"#2d467b"},p={6:{0:["E"],1:["F"],2:["F#","Gb"],3:["G"],4:["G#","Ab"],5:["A"],6:["A#","Bb"],7:["B"],8:["C"],9:["C#","Db"],10:["D"],11:["D#","Eb"],12:["E"]},5:{0:["A"],1:["A#","Bb"],2:["B"],3:["C"],4:["C#","Db"],5:["D"],6:["D#","Eb"],7:["E"],8:["F"],9:["F#","Gb"],10:["G"],11:["G#","Ab"],12:["A"]},4:{0:["D"],1:["D#","Eb"],2:["E"],3:["F"],4:["F#","Gb"],5:["G"],6:["G#","Ab"],7:["A"],8:["A#","Bb"],9:["B"],10:["C"],11:["C#","Db"],12:["D"]},3:{0:["G"],1:["G#","Ab"],2:["A"],3:["A#","Bb"],4:["B"],5:["C"],6:["C#","Db"],7:["D"],8:["D#","Eb"],9:["E"],10:["F"],11:["F#","Gb"],12:["G"]},2:{0:["B"],1:["C"],2:["C#","Db"],3:["D"],4:["D#","Eb"],5:["E"],6:["F"],7:["F#","Gb"],8:["G"],9:["G#","Ab"],10:["A"],11:["A#","Bb"],12:["B"]},1:{0:["E"],1:["F"],2:["F#","Gb"],3:["G"],4:["G#","Ab"],5:["A"],6:["A#","Bb"],7:["B"],8:["C"],9:["C#","Db"],10:["D"],11:["D#","Eb"],12:["E"]}};function D(t,n,s){const i=document.createElement("button");i.className="fretboard-btn";const e=6-n+1,r=t-1,o=p[e][r][0],l=f(t,n);return i.textContent=o,(o.endsWith("#")||o.endsWith("b")||!c.visible.has(l))&&i.classList.add("hidden"),i.dataset.coord=l,i.dataset.note=o,i.style.setProperty("--color",g[o]),i.addEventListener("click",s),i}function G(t,n){const s=document.createElement("div");s.className="cont";const i=6-n+1;if(s.dataset.string=`${i}`,t===0&&n>0&&n<7){s.className="string";const e=document.createElement("i");e.className="check",s.appendChild(e)}if(t===4||t===6||t===8||t===10||t===13){const e=document.createElement("div");e.className="mark",s.appendChild(e)}if(t>1){const e=document.createElement("div");e.className=t===2?"fret nut":"fret",s.appendChild(e)}return s}function d(t){var e;function n(r,o){const l=f(r,o);c.visible.add(l);const u=document.querySelector(`button[data-coord='${l}']`),a=u.dataset.note;!(a!=null&&a.endsWith("#"))&&!(a!=null&&a.endsWith("b"))&&u.classList.remove("hidden");const b=6-o+1,E=r-1,A=new Set(p[b][E]);c.currentString===b&&A.has(c.currentNote)?d.markOk(c.currentString):d.markFail(c.currentString),c.pending.size>0&&(m(),d.markNextString(c.currentString))}function s(){t.innerHTML="";for(let r=0;r<14;r++)for(let o=0;o<8;o++)o===0||o===7||r===0?t.appendChild(G(r,o)):t.appendChild(D(r,o,n.bind(null,r,o)))}s();const i=(e=document.querySelector(".fretboard-btn"))==null?void 0:e.clientWidth;i&&t.style.setProperty("--element-width",`${i-8}px`)}d.markNextString=t=>{document.querySelector(`.string[data-string='${t}']`).className="string next"};d.markOk=t=>{document.querySelector(`.string[data-string='${t}']`).className="string ok"};d.markFail=t=>{document.querySelector(`.string[data-string='${t}']`).className="string fail"};d.resetString=t=>{document.querySelector(`.string[data-string='${t}']`).className="string"};function h(){N(),m(),c.visible=new Set;const t=document.getElementById("selectedNoteLabel");t.textContent=c.currentNote,t.style.setProperty("--current-note-color",g[c.currentNote]);const n=document.querySelector(".fretboard");n&&d(n),d.markNextString(c.currentString)}window.onerror=function(t,n,s,i,e){console.log(t,"from",e==null?void 0:e.stack),console.error(e)};h();document.getElementById("resetBtn").addEventListener("click",h);
